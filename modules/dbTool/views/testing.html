<section data-ng-controller="TestingCtrl">
	<div class="container">

		<!-- Page Title -->
		<div class="row">
			<h3>Testing</h3>
		</div>
		
		<!-- Loading Messages -->
		<div class="row">
			<div class="col-sm-6 col-sm-offset-3">
				<div class="alert alert-info" style="text-align:center;" ng-show="loading.loading"><i class="fa fa-sun-o fa-spin" aria-hidden="true"></i> ...loading</div>
			</div>
		</div>
		<hr>
		<div class="row">
			<!-- Sidebar / list of controllers>routes>tests -->
			<div class="col-md-4" style="border-right:1px solid rgba(100,100,100,0.5);height:600px;overflow:scroll;padding-bottom:50px;">
				<h4>Tests:</h4>

				<!--controllers -->
				<div ng-repeat="controller in controllers">
					<a  href="" 
						ng-click="controller.showRoutes = !controller.showRoutes">
						{{controller.name}} 
						<i class="fa fa-arrow-circle-right" ng-show="!controller.showRoutes"></i>
						<i class="fa fa-arrow-circle-down" ng-show="controller.showRoutes"></i>
					</a>
					<!-- routes in controller -->
					<div style="margin-left:20px;" ng-show="controller.showRoutes">
						<div ng-repeat="route in routes[controller.name].routes">
							<a 	href="" 
								ng-click="getTestsForRoute(route)">
								{{route.name}}
							</a>
							<!-- tests in route 
							<div style="margin-left:16px;" ng-show="route.showTests">
								<a  href=""
									ng-repeat="test in route.tests"
									ng-click="setActiveTest(test)">
									{{test}}
								</a>	
								<div ng-show="route.tests && route.tests.length === 0"> No Tests Found</div>
							</div>
							-->
						</div>
					</div>
				</div>
			</div> <!-- End Sidebar/list -->

			<div class="col-md-8">
				<h4> Run Tests {{activeRoute}}</h4>
				<p ng-show="activeTests">Found {{activeTests.length}} test{{activeTests.length === 1 ? '' :'s'}}  for this route</p>
				<div class="" ng-repeat="test in activeTests">
					<hr>
					<button class="btn btn-warning" ng-click="runTest(test)">Run {{test.name}} <br>{{test.itShould}}</button>
					{{test.testResults}}
				</div>
			</div>
		</div>
	</div>
</section>